var map;
// var infowindow = new google.maps.InfoWindow();




function display_map(lat, lng, zoom)
{

  var styles = [
  {
    featureType: "landscape",
    stylers: [
      { color: '#eeddee' }
    ]
  },{
    featureType: "natural",
    stylers: [
      { hue: '#000044' },
      { weight: 2}
    ]
  },{
    featureType: "road",
    stylers: [
      { hue: '#f7a0f7' },
      { saturation: -70 }
    ]
  },{
    featureType: "building",
    elementType: "labels",
    stylers: [
      { hue: '#000066' }
    ]
  },{
    featureType: "poi", //points of interest
    stylers: [
      { hue: '#0044ff' }
    ]
  }
];



  var mapOptions = {
    center: new google.maps.LatLng(lat, lng),
    zoom: zoom,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    disableDefaultUI: true,
    styles: styles
  };

  var canvas = $('#map_canvas')[0];
  map = new google.maps.Map(canvas, mapOptions);
}

function add_marker(lat, lng, title, bullshit, venue, distance, address, ven_address, ven_crossStreet)
{
  var stuff = "<div class='newmarker'><a href='venues/" + bullshit + "'data-remote='true' class='v_link'>"+venue+"</a></div>" + "<p>" +ven_address+ " Cross Street - "+ven_crossStreet+".</p>"+ "<p>Distance from " +address+ " is "+distance+" meters.</p>"

  var latlng = new google.maps.LatLng(lat, lng, title);
  var marker = new google.maps.Marker({position: latlng, map: map, title: title, icon: "http://s18.postimg.org/bflw11amd/dancinghall.png"});
   infowindow = new google.maps.InfoWindow();
  google.maps.event.addListener(marker, 'click', function() {
    infowindow.close();
    infowindow.setContent(stuff);
    infowindow.open(map,marker);
  });


}
// var heatMapData = [
//   {location: new google.maps.LatLng(37.782, -122.447), weight: 0.5},
//   new google.maps.LatLng(37.782, -122.445),
//   {location: new google.maps.LatLng(37.782, -122.443), weight: 2},
//   {location: new google.maps.LatLng(37.782, -122.441), weight: 3},
//   {location: new google.maps.LatLng(37.782, -122.439), weight: 2},
//   new google.maps.LatLng(37.782, -122.437),
//   {location: new google.maps.LatLng(37.782, -122.435), weight: 0.5},

//   {location: new google.maps.LatLng(37.785, -122.447), weight: 3},
//   {location: new google.maps.LatLng(37.785, -122.445), weight: 2},
//   new google.maps.LatLng(37.785, -122.443),
//   {location: new google.maps.LatLng(37.785, -122.441), weight: 0.5},
//   new google.maps.LatLng(37.785, -122.439),
//   {location: new google.maps.LatLng(37.785, -122.437), weight: 2},
//   {location: new google.maps.LatLng(37.785, -122.435), weight: 3}
// ];

// var heatmap = new google.maps.visualization.HeatmapLayer({
//   data: heatMapData
// });
// heatmap.setMap(map);